##############################################################################
## This file is part of 'LSST Firmware'.
## It is subject to the license terms in the LICENSE.txt file found in the 
## top-level directory of this distribution and at: 
##    https://confluence.slac.stanford.edu/display/ppareg/LICENSE.html. 
## No part of 'LSST Firmware', including this file, 
## may be copied, modified, propagated, or distributed except according to 
## the terms contained in the LICENSE.txt file.
##############################################################################

#######################
## Application Ports ##
#######################

# Ion Pump Control Board ADC SPI Interfaces

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMonDin[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMonDin[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMonDin[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { adcSClk[5] }]; # pinout placeholder

# Ion Pump Control Board ADC SPI Interfaces

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacDout[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { dacSclk[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iProgCsL }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vProgCsL }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pProgCsL }]; # pinout placeholder

# Ion Pump Control Board Mode bits

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { iMode[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { vMode[5] }]; # pinout placeholder

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { pMode[5] }]; # pinout placeholder

# Ion Pump Enable

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[0] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[1] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[2] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[3] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[4] }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { enable[5] }]; # pinout placeholder

# Boot Memory Ports

set_property -dict { PACKAGE_PIN T19 IOSTANDARD LVCMOS33 SLEW FAST } [get_ports { bootCsL }]
set_property -dict { PACKAGE_PIN P22 IOSTANDARD LVCMOS33 SLEW FAST } [get_ports { bootMosi }]
set_property -dict { PACKAGE_PIN R22 IOSTANDARD LVCMOS33 }           [get_ports { bootMiso }]

# Scratch Pad Prom

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { promScl }]; # pinout placeholder
set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { promSda }]; # pinout placeholder

# 1GbE Ports

set_property PACKAGE_PIN XXX [get_ports {ethClkP}]; # pinout placeholder
set_property PACKAGE_PIN XXX [get_ports {ethClkN}]; # pinout placeholder

set_property PACKAGE_PIN XXX [get_ports {ethTxP}]; # pinout placeholder
set_property PACKAGE_PIN XXX [get_ports {ethTxN}]; # pinout placeholder
set_property PACKAGE_PIN XXX [get_ports {ethRxP}]; # pinout placeholder
set_property PACKAGE_PIN XXX [get_ports {ethRxN}]; # pinout placeholder

# Misc.

set_property -dict { PACKAGE_PIN XXX IOSTANDARD XXX } [get_ports { extRstL }]; # pinout placeholder

####################################
## Application Timing Constraints ##
####################################

create_clock -name ethRefClk -period 6.400 [get_ports {ethClkP}]

create_generated_clock -name axilClk     [get_pins {U_Eth/U_PHY_MAC/U_MMCM/MmcmGen.U_Mmcm/CLKOUT0}]
create_generated_clock -name axilClkDiv2 [get_pins {U_Eth/U_PHY_MAC/U_MMCM/MmcmGen.U_Mmcm/CLKOUT1}]

create_generated_clock -name ethRxClk [get_pins {U_Eth/U_PHY_MAC/GEN_LANE[0].U_GigEthGtp7/U_GigEthGtp7Core/U0/transceiver_inst/gtwizard_inst/U0/gtwizard_i/gt0_GTWIZARD_i/gtpe2_i/RXOUTCLK}]
create_generated_clock -name ethTxClk [get_pins {U_Eth/U_PHY_MAC/GEN_LANE[0].U_GigEthGtp7/U_GigEthGtp7Core/U0/transceiver_inst/gtwizard_inst/U0/gtwizard_i/gt0_GTWIZARD_i/gtpe2_i/TXOUTCLK}]

create_generated_clock -name dnaClk  [get_pins {U_Version/GEN_DEVICE_DNA.DeviceDna_1/GEN_7SERIES.DeviceDna7Series_Inst/BUFR_Inst/O}]
create_generated_clock -name dnaClkL [get_pins {U_Version/GEN_DEVICE_DNA.DeviceDna_1/GEN_7SERIES.DeviceDna7Series_Inst/DNA_CLK_INV_BUFR/O}]
create_generated_clock -name progClk [get_pins {U_Version/GEN_ICAP.Iprog_1/GEN_7SERIES.Iprog7Series_Inst/DIVCLK_GEN.BUFR_ICPAPE2/O}]  

set_clock_groups -asynchronous -group [get_clocks {axilClk}] -group [get_clocks {ethRefClk}]
set_clock_groups -asynchronous -group [get_clocks {axilClk}] -group [get_clocks {dnaClk}]
set_clock_groups -asynchronous -group [get_clocks {axilClk}] -group [get_clocks {dnaClkL}]
set_clock_groups -asynchronous -group [get_clocks {axilClk}] -group [get_clocks {progClk}]

##########################
## Misc. Configurations ##
##########################

# FPGA Hardware Configuration
set_property CFGBVS VCCO         [current_design]
set_property CONFIG_VOLTAGE 3.3  [current_design]

# BITSTREAM Configurations
set_property BITSTREAM.CONFIG.CONFIGRATE 50 [current_design] 

